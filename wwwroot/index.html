<!DOCTYPE html>
<html lang="es">
<head>
  <!-- Configuraci贸n b谩sica del documento -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <!-- T铆tulo que aparece en la pesta帽a del navegador -->
  <title>Chat Moderno</title>

  <!-- Material Icons: se usan para botones (enviar, emojis, tema, etc.) -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Estilos principales del chat -->
  <link href="css/styles.css" rel="stylesheet" />
</head>

<body>
  <!-- Contenedor principal de la aplicaci贸n -->
  <div class="app">

    <!-- ======================
         SIDEBAR (panel izquierdo)
         ====================== -->
    <aside class="sidebar">

      <!-- Cabecera del sidebar -->
      <div class="sidebar-header">
        <div>
          <div class="title">Chat Moderno</div>
          <small>.NET 9 + SignalR</small>
        </div>

        <!-- Icono decorativo -->
        <span class="material-icons" style="font-size:18px;opacity:0.8;">chat</span>
      </div>

      <!-- Secci贸n: datos de la sesi贸n -->
      <div class="sidebar-section">Tu sesi贸n</div>

      <div class="sidebar-controls">
        <!-- Nombre de usuario -->
        <input id="user" placeholder="Tu nombre (ej. Astronauta)" />

        <!-- Nombre de la sala -->
        <input id="room" placeholder="Sala (ej. general)" />

        <!-- Botones unirse / salir -->
        <div class="sidebar-controls-row">
          <button id="join" class="btn-join">Unirme</button>
          <button id="leave" class="btn-leave" disabled>Salir</button>
        </div>
      </div>

      <!-- Secci贸n: ejemplos de salas -->
      <div class="sidebar-section">Ejemplos de salas</div>
      <div class="room-pill"># general</div>
      <div class="room-pill"># soporte</div>
      <div class="room-pill"># random</div>

      <!-- Pie del sidebar -->
      <div class="sidebar-footer">
        <div>
           Tip: abre dos pesta帽as y entra a la misma sala para probar el chat en tiempo real.
        </div>
      </div>
    </aside>

    <!-- ======================
         CHAT PRINCIPAL
         ====================== -->
    <section class="chat">

      <!-- Cabecera del chat -->
      <header class="chat-header">

        <!-- Bot贸n para cambiar entre tema oscuro / claro -->
        <button class="theme-toggle" id="themeToggle" title="Cambiar tema">
          <span class="material-icons" id="themeIcon">dark_mode</span>
          <span id="themeText">Oscuro</span>
        </button>

        <!-- Informaci贸n de la sala actual -->
        <div class="info">
          <span class="room-name" id="roomLabel">Ninguna sala</span>
          <span class="status" id="statusLabel">Con茅ctate a una sala para empezar</span>
        </div>

        <!-- Badge decorativo -->
        <div class="badge">SignalR en tiempo real</div>
      </header>

      <!-- Lista de mensajes (se llena din谩micamente con JS) -->
      <main class="messages" id="log" aria-live="polite"></main>

      <!-- Indicador "usuario est谩 escribiendo..." -->
      <div class="typing-indicator" id="typing"></div>

      <!-- ======================
           INPUT DE MENSAJES
           ====================== -->
      <footer class="chat-input">

        <!-- Contenedor de emojis -->
        <div class="emoji-wrap">

          <!-- Bot贸n para abrir el panel de emojis -->
          <button class="icon-btn" id="emojiBtn" title="Emojis">
            <span class="material-icons">emoji_emotions</span>
          </button>

          <!-- Panel de emojis
               Se deja vac铆o y se llena din谩micamente con JavaScript -->
          <div class="emoji-panel" id="emojiPanel"></div>
        </div>

        <!-- Stickers r谩pidos
             (iconos que se env铆an como mensajes) -->
        <div class="stickers">
          <!-- Se generan desde JS -->
        </div>

        <!-- Input de texto del mensaje -->
        <div class="msg-input-wrapper">
          <input
            id="message"
            placeholder="Escribe un mensaje..."
            disabled
          />
        </div>

        <!-- Bot贸n enviar mensaje -->
        <button
          class="icon-btn send-btn"
          id="send"
          disabled
          title="Enviar"
        >
          <span class="material-icons">send</span>
        </button>

        <!-- Bot贸n de zumbido (estilo Messenger cl谩sico) -->
        <button class="icon-btn" id="buzzBtn" title="Zumbido">
          <span class="material-icons">notifications_active</span>
        </button>

      </footer>
    </section>
  </div>

  <!-- ======================
       SCRIPTS
       ====================== -->

  <!-- Cliente oficial de SignalR -->
  <script src="https://cdn.jsdelivr.net/npm/@microsoft/signalr@latest/dist/browser/signalr.min.js"></script>

  <!-- Configuraci贸n global -->
  <script src="js/config.js"></script>

  <!-- Estado global de la app (usuario, sala, conexi贸n) -->
  <script src="js/state.js"></script>

  <!-- Utilidades comunes (formatos, sonidos, helpers) -->
  <script src="js/utils.js"></script>

  <!-- Manejo del DOM / UI -->
  <script src="js/ui.js"></script>

  <!-- Tema claro / oscuro -->
  <script src="js/theme.js"></script>

  <!-- L贸gica SignalR (conexi贸n, eventos, mensajes) -->
  <script src="js/signalr.js"></script>

</body>
</html>
